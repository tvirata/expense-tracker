{"ast":null,"code":"var _jsxFileName = \"/Users/tvirata/Desktop/expense-tracker/pb_app/src/pages/History.js\",\n  _s = $RefreshSig$();\nimport Home from \"Home\";\nimport pb from \"lib/pocketbase\";\nimport { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function History() {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    setValue\n  } = useForm();\n  const [isLoading, setLoading] = useState(false);\n  const [records, setRecords] = useState([]);\n  const [total, setTotal] = useState(0);\n  useEffect(() => {\n    // Convert total to a number and fix the decimal places\n    setTotal(parseFloat(total).toFixed(2));\n  }, [total]);\n  async function view() {\n    //read\n    setLoading(true);\n    try {\n      const itemRecords = await pb.collection(\"basic_item\").getFullList({\n        sort: \"-created\"\n      });\n      console.log(\"Fetched Result:\", itemRecords);\n      const results = itemRecords.map(record => ({\n        name: record.name,\n        cost: record.cost\n      }));\n      const totalCost = itemRecords.reduce((sum, item) => sum + item.cost, 0);\n      console.log(\"Fetched Item Records:\", results);\n      console.log(\"TOTAL COST:\", totalCost);\n      setRecords(results);\n      setTotal(totalCost);\n    } catch (e) {\n      console.log(\"ERROR FETCHING RECORDS: \", e);\n      alert(e);\n    }\n    setLoading(false);\n  }\n  async function itemYep(data) {\n    //create\n    setLoading(true);\n    try {\n      const item = await pb.collection(\"basic_item\").create({\n        name: data.name,\n        cost: data.cost\n      });\n    } catch (e) {\n      alert(e);\n    }\n    setLoading(false);\n  }\n  if (pb.authStore.isValid) return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" ADD NEW ITEM \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(itemYep),\n        children: [\"Item:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"itemName\",\n          ...register(\"name\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), \"Cost:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"itemCost\",\n          ...register(\"cost\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isLoading,\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      style: {\n        borderTop: \"3px solid #bbb\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Expenses:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(view),\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isLoading,\n          children: \"Load\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"TOTAL: $\", total]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            listStyleType: \"none\",\n            padding: 0\n          },\n          children: records.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            style: {\n              marginBottom: \"8px\",\n              padding: \"12px\",\n              border: \"1px solid #ddd\",\n              borderRadius: \"4px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this), \" \", item.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Cost:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 21\n              }, this), \" $\", item.cost]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(History, \"3kU92mqpyqsF5STY4XCydKWp8ZA=\", false, function () {\n  return [useForm];\n});\n_c = History;\nvar _c;\n$RefreshReg$(_c, \"History\");","map":{"version":3,"names":["Home","pb","useState","useEffect","useForm","jsxDEV","_jsxDEV","Fragment","_Fragment","History","_s","register","handleSubmit","setValue","isLoading","setLoading","records","setRecords","total","setTotal","parseFloat","toFixed","view","itemRecords","collection","getFullList","sort","console","log","results","map","record","name","cost","totalCost","reduce","sum","item","e","alert","itemYep","data","create","authStore","isValid","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","disabled","style","borderTop","listStyleType","padding","index","marginBottom","border","borderRadius","_c","$RefreshReg$"],"sources":["/Users/tvirata/Desktop/expense-tracker/pb_app/src/pages/History.js"],"sourcesContent":["import Home from \"Home\";\nimport pb from \"lib/pocketbase\";\nimport { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nexport default function History() {\n  const { register, handleSubmit, setValue } = useForm();\n  const [isLoading, setLoading] = useState(false);\n  const [records, setRecords] = useState([]);\n  const [total, setTotal] = useState(0);\n\n  useEffect(() => {\n    // Convert total to a number and fix the decimal places\n    setTotal(parseFloat(total).toFixed(2));\n  }, [total]);\n\n  async function view() {\n    //read\n    setLoading(true);\n    try {\n      const itemRecords = await pb.collection(\"basic_item\").getFullList({\n        sort: \"-created\",\n      });\n      console.log(\"Fetched Result:\", itemRecords);\n\n      const results = itemRecords.map((record) => ({\n        name: record.name,\n        cost: record.cost,\n      }));\n      const totalCost = itemRecords.reduce((sum, item) => sum + item.cost, 0);\n      console.log(\"Fetched Item Records:\", results);\n      console.log(\"TOTAL COST:\", totalCost);\n      setRecords(results);\n      setTotal(totalCost);\n    } catch (e) {\n      console.log(\"ERROR FETCHING RECORDS: \", e);\n      alert(e);\n    }\n    setLoading(false);\n  }\n  async function itemYep(data) {\n    //create\n    setLoading(true);\n    try {\n      const item = await pb.collection(\"basic_item\").create({\n        name: data.name,\n        cost: data.cost,\n      });\n    } catch (e) {\n      alert(e);\n    }\n    setLoading(false);\n  }\n\n  if (pb.authStore.isValid)\n    return (\n      <>\n        <div>\n          <h2> ADD NEW ITEM </h2>\n          <form onSubmit={handleSubmit(itemYep)}>\n            Item:{\" \"}\n            <input type=\"text\" placeholder=\"itemName\" {...register(\"name\")} />\n            <br />\n            Cost:{\" \"}\n            <input type=\"text\" placeholder=\"itemCost\" {...register(\"cost\")} />\n            <button type=\"submit\" disabled={isLoading}>\n              Add\n            </button>\n          </form>\n        </div>\n        <hr style={{ borderTop: \"3px solid #bbb\" }}></hr>\n        <div>\n          <h2>Expenses:</h2>\n          <form onSubmit={handleSubmit(view)}>\n            <button type=\"submit\" disabled={isLoading}>\n              Load\n            </button>\n          </form>\n          <div>\n            {/* Display the loaded items here */}\n            <h3>TOTAL: ${total}</h3>\n            <ul style={{ listStyleType: \"none\", padding: 0 }}>\n              {records.map((item, index) => (\n                <li\n                  key={index}\n                  style={{\n                    marginBottom: \"8px\",\n                    padding: \"12px\",\n                    border: \"1px solid #ddd\",\n                    borderRadius: \"4px\",\n                  }}\n                >\n                  <div>\n                    <strong>Name:</strong> {item.name}\n                  </div>\n                  <div>\n                    <strong>Cost:</strong> ${item.cost}\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </>\n    );\n\n  return (\n    <>\n      <Home />\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}